# **EOF, FD**

## **EOF**

- **EOF 란**

- EOF = End Of File 이며, 파일의 끝을 표현하기 위해 정의해 놓은 상수이다(-1 값을 가지고있다).
- 함수 호출의 실패나, 윈도우에서 ctrl + z , 리눅스에서 ctrl + d를 입력 했을 경우 EOF를 반환한다.

## **파일 디스크립터**

- 파일 디스크립터(File Descriptor)란 리눅스 혹은 유닉스 계열의 시스템에서
- 프로세스(process)가 파일(file)을 다룰 때 사용하는 개념으로
- 프로세스에서 특정 파일에 접근할 때 사용하는 추상적인 값이다.

```c
여기서 프로세스 란 ?

프로세스(process)란 **실행중에 있는 프로그램(Program)** 을 의미한다.
```

**파일 디스크럽터는 일반적으로 0이 아닌 정수값을 갖는다.**

즉 파일에 접근할때 파일디스크립터로 접근을 한다.

**프로세스가 실행 중에 파일을 Open하면 커널은 해당 프로세스의 파일 디스크립터 숫자 중 사용하지 않는 가장 작은 값을 할당해준다.**

```c
커널이란 ?
커널은 하드웨어와 응용 프로그램 사이에서 인터페이스를 제공하여 응용 프로그램이
하드웨어에서부터 오는 자원을 관리하고 사용 할 수 있게 해준다

커널은 Linux 운영 체제(OS)의 주요 구성 요소이며 컴퓨터 하드웨어와
프로세스를 잇는 핵심 인터페이스
```

**그 다음 프로세스가 열려있는 파일에 시스템 콜을 이용해서 접근할 때, 파일 디스크립터(FD)값을 이용해서 파일을 지칭할 수 있다.**

- 프로그램이 프로세스로 메모리에서 실행될 때, 기본적으로 할당되는 파일디스크립터는
  표준입력(Standard Input), 표준 출력(Standard Output), 표준에러(Standard Error)이며 이들에게 각각 0, 1, 2라는 정수가 할당된다.

```c
fd에 2보다큰 3부터의 숫자가 들어갈경우 ?

오류인건줄아니였는데 아니였다.
표준 입력 stdin 표준 출력 stdout 표준 에러 stderr 0~2를 제외하고
open()함수로 파일을 열어서 3부터 번호를 부여받게된다고한다
```

파일 디스크립터가 단순히 숫자인 이유는 프로세스가 유지하고 있는

**file descriptors 테이블의 인덱스**이기 때문이다.

![image description](https://1.bp.blogspot.com/-H0xHSfw7c4Q/XWSMTscR_VI/AAAAAAAABio/CGo2xwZduLUc-5sTpE5NZxVhYsNsTKRHgCLcBGAs/s400/%25EC%25BA%25A1%25EC%25B2%2598.JPG)

---
